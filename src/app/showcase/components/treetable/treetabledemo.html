<treetable-submenu></treetable-submenu>

<div class="content-section introduction">
    <div>
        <span class="feature-title">TreeTable</span>
        <span>TreeTable is used to display hierarchical data in tabular format.</span>
    </div>
</div>

<div class="content-section implementation">  
    <h3 class="first">Basic</h3>  
    <p-treeTable [value]="files1">
        <ng-template pTemplate="header">
            <tr>
                <th>Name</th>
                <th>Size</th>
                <th>Type</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowNode let-rowData="rowData">
            <tr>
                <td>
                    <p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>
                    {{rowData.name}}
                </td>
                <td>{{rowData.size}}</td>
                <td>{{rowData.type}}</td>
            </tr>            
        </ng-template>
    </p-treeTable>

    <h3>Dynamic Columns</h3>
    <p-treeTable [value]="files2" [columns]="cols">
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th *ngFor="let col of columns">
                    {{col.header}}
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns">
            <tr>
                <td *ngFor="let col of columns; let i = index">
                    <p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"></p-treeTableToggler>
                    {{rowData[col.field]}}
                </td>
            </tr>            
        </ng-template>
    </p-treeTable>
</div>

<div class="content-section documentation">
    <p-tabView effect="fade">
        <p-tabPanel header="Documentation">
            <h3>Import</h3>
<pre>
<code class="language-typescript" pCode ngNonBindable>
import &#123;TreeTableModule&#125; from 'primeng/treetable';
import &#123;TreeNode&#125; from 'primeng/api';
</code>
</pre>

            <h3>Getting Started</h3>
            <p>TreeTable component requires a collection of TreeNode objects as its value and templates for the presentation. TreeNode API represents a node with various properties, here is the list of properties utilized by the TreeTable.</p>
<pre>
<code class="language-typescript" pCode ngNonBindable>
export interface TreeNodeÂ &#123;
    data?: any;
    children?: TreeNode[];
    leaf?: boolean;
    expanded?: boolean;
&#125;
</code>
</pre>

            <p>Usually nodes will be loaded from a remote datasoure, an example NodeService that fetches the data from a json file would be;</p>
<pre>
<code class="language-typescript" pCode ngNonBindable>
@Injectable()
export class NodeService &#123;
    
    constructor(private http: Http) &#123;&#125;

    getFilesystem() &#123;
        return this.http.get('showcase/resources/data/filesystem.json')
                    .toPromise()
                    .then(res => &lt;TreeNode[]&gt; res.json().data);
    &#125;
&#125;
</code>
</pre>

        <p>The filesystem.json file consists of sample data. In a real application, this should be a dynamic response generated from the remote call.</p>
<pre>
<code class="language-javascript" pCode ngNonBindable>
&#123;
    "data":
    [  
        &#123;  
            "data":&#123;  
                "name":"Documents",
                "size":"75kb",
                "type":"Folder"
            &#125;,
            "children":[
                &#123;  
                    "data":&#123;  
                        "name":"Work",
                        "size":"55kb",
                        "type":"Folder"
                    &#125;,
                    "children":[  
                        &#123;  
                            "data":&#123;  
                                "name":"Expenses.doc",
                                "size":"30kb",
                                "type":"Document"
                            &#125;
                        &#125;,
                        &#123;  
                            "data":&#123;  
                                "name":"Resume.doc",
                                "size":"25kb",
                                "type":"Resume"
                            &#125;
                        &#125;
                    ]
                &#125;,
                &#123;  
                    "data":&#123;  
                        "name":"Home",
                        "size":"20kb",
                        "type":"Folder"
                    &#125;,
                    "children":[  
                        &#123;  
                            "data":&#123;  
                                "name":"Invoices",
                                "size":"20kb",
                                "type":"Text"
                            &#125;
                        &#125;
                    ]
                &#125;
            ]
        &#125;,
        &#123;  
            "data":&#123;  
                "name":"Pictures",
                "size":"150kb",
                "type":"Folder"
            &#125;,
            "children":[  
                &#123;  
                    "data":&#123;  
                        "name":"barcelona.jpg",
                        "size":"90kb",
                        "type":"Picture"
                    &#125;
                &#125;,
                &#123;  
                    "data":&#123;  
                        "name":"primeui.png",
                        "size":"30kb",
                        "type":"Picture"
                    &#125;
                &#125;,
                &#123;  
                    "data":&#123;  
                        "name":"optimus.jpg",
                        "size":"30kb",
                        "type":"Picture"
                    &#125;
                &#125;
            ]
        &#125;
    ]
&#125;
</code>
</pre>  

<p>Files get loaded from a service and then bound to the value property whereas <i>header</i> and <i>body</i> templates are used to define the content of these sections.</p>

<pre>
<code class="language-typescript" pCode ngNonBindable>
export class TreeTableDemoComponent implements OnInit &#123;
    
    files: TreeNode[];

    constructor(private nodeService: NodeService) &#123;&#125;
    
    ngOnInit() &#123;
        this.nodeService.getFileSystem().then(files => this.files = files);
    &#125;

&#125;
</code>
</pre>    

        <p>Body template gets the following parameters;</p>
        <ul>
            <li><strong>$implicit</strong>: Wrapper object of a node used to serialized a TreeNode.</li>
            <li><strong>node</strong>: TreeNode instance.</li>
            <li><strong>rowData</strong>: Data of the TreeNode instance.</li>
            <li><strong>columns</strong>: Columns of the TreeTable.</li>
        </ul>
                  
        <p>Toggle icon is configured using the p-treeTableToggler by binding the rowNode instance. Most of the time, toggler icon is added to the first column however there is no restriction on where the toggler should be located inside the row.</p>
<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files"&gt;
    &lt;ng-template pTemplate="header"&gt;
        &lt;tr&gt;
            &lt;th&gt;Name&lt;/th&gt;
            &lt;th&gt;Size&lt;/th&gt;
            &lt;th&gt;Type&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData"&gt;
        &lt;tr&gt;
            &lt;td&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData.name&#125;&#125;
            &lt;/td&gt;
            &lt;td&gt;&#123;&#123;rowData.size&#125;&#125;&lt;/td&gt;
            &lt;td&gt;&#123;&#123;rowData.type&#125;&#125;&lt;/td&gt;
        &lt;/tr&gt;            
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>

        <h3>Dynamic Columns</h3>
        <p>Instead of configuring columns one by one, a simple ngFor can be used to implement dynamic columns. cols property below is an array of objects that represent a column,
            only property that table component uses is field, rest of the properties like header depend on your choice.
        </p>

<pre>
<code class="language-typescript" pCode ngNonBindable>
export class TreeTableDemo implements OnInit &#123;

    files: TreeNode[];

    cols: any[];

    constructor(private nodeService: NodeService) &#123; &#125;

    ngOnInit() &#123;
        this.nodeService.getFilesystem().then(files => this.files = files);

        this.cols = [
            &#123; field: 'name', header: 'Name' &#125;,
            &#123; field: 'size', header: 'Size' &#125;,
            &#123; field: 'type', header: 'Type' &#125;
        ];
    &#125;
&#125;
</code>
</pre>

<p>There are two ways to render dynamic columns, since cols property is in the scope of component you can just simply bind it to ngFor directive to generate the structure.</p>

<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files"&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of cols"&gt;
                &#123;&#123;col.header&#125;&#125;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData"&gt;
        &lt;tr&gt;
            &lt;td *ngFor="let col of cols; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData[col.field]&#125;&#125;
            &lt;/td&gt;
        &lt;/tr&gt;            
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>

            <p>Other alternative is binding the cols array to the columns property and then defining a template variable to access it within your templates.
                There is only 1 case where this is required which is reorderable columns.
            </p>
<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files" [columns]="cols"&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of columns"&gt;
                &#123;&#123;col.header&#125;&#125;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns"&gt;
        &lt;tr&gt;
            &lt;td *ngFor="let col of columns; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData[col.field]&#125;&#125;
            &lt;/td&gt;
        &lt;/tr&gt;            
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>

            <p>Tip: Use ngSwitch to customize the column content per dynamic column.</p>

            <h3>Table Layout</h3>
            <p>For performance reasons, default table-layout is fixed meaning the cell widths do not depend on their content. If you require cells to scale based on their contents
                set <i>autoLayout</i> property to true. Note that for scrollable tables or tables with resizable columns auto layout is not supported. 
            </p>

            <h3>Templates</h3>
            <p>TreeTable is a template driven component with named templates such as header and body that we've used so far. Templates grant a great level of customization and flexibility
                where you have total control over the presentation while table handles the features such as paging, sorting and more. This speeds up development without sacrifing
                flexibility. Here is the full list of available templates.</p>

            <div class="doc-tablewrapper">
                <table class="doc-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Parameters</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>caption</td>
                            <td>-</td>
                            <td>Caption content of the table.</td>
                        </tr>
                        <tr>
                            <td>header</td>
                            <td>$implicit: Columns</td>
                            <td>Content of the thead element.</td>
                        </tr>
                        <tr>
                            <td>body</td>
                            <td>$implicit: Wrapper object of a node used to serialized a TreeNode<br>
                                node: TreeNode instance. <br>
                                rowData: Data of the TreeNode instance <br>
                                columns: Columns of the TreeTable
                            </td>
                            <td>Content of the tbody element.</td>
                        </tr>
                        <tr>
                            <td>footer</td>
                            <td>$implicit: Columns</td>
                            <td>Content of the tfoot element.</td>
                        </tr>
                        <tr>
                            <td>summary</td>
                            <td>-</td>
                            <td>Summary section to display below the table.</td>
                        </tr>
                        <tr>
                            <td>colgroup</td>
                            <td>$implicit: Columns</td>
                            <td>ColGroup element of the table to customize columns.</td>
                        </tr>
                        <tr>
                            <td>frozenheader</td>
                            <td>$implicit: Columns</td>
                            <td>Content of the thead element in frozen side.</td>
                        </tr>
                        <tr>
                            <td>frozenbody</td>
                            <td>$implicit: Wrapper object of a node used to serialized a TreeNode<br>
                                node: TreeNode instance. <br>
                                rowData: Data of the TreeNode instance <br>
                                columns: Columns of the TreeTable
                            </td>
                            <td>Content of the tbody element in frozen side.</td>
                        </tr>
                        <tr>
                            <td>frozenfooter</td>
                            <td>$implicit: Columns</td>
                            <td>Content of the tfoot element in frozen side.</td>
                        </tr>
                        <tr>
                            <td>frozencolgroup</td>
                            <td>$implicit: Columns</td>
                            <td>ColGroup element of the table to customize frozen columns.</td>
                        </tr>
                        <tr>
                            <td>emptymessage</td>
                            <td>$implicit: Columns</td>
                            <td>Content to display when there is no value to display.</td>
                        </tr>
                        <tr>
                            <td>paginatorleft</td>
                            <td>state: $implicit
                                state.page: Current page<br />
                                state.rows: Rows per page<br />
                                state.first: Index of the first records<br />
                                state.totalRecords: Number of total records<br />
                            </td>
                            <td>Content to display when there is no value to display.</td>
                        </tr>
                        <tr>
                            <td>paginatorright</td>
                            <td>state: $implicit
                                state.page: Current page<br />
                                state.rows: Rows per page<br />
                                state.first: Index of the first records<br />
                                state.totalRecords: Number of total records<br />
                            </td>
                            <td>Content to display when there is no value to display.</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>Change Detection</h3>
            <p>TreeTable may need to be aware of changes in its value in some cases. For the sake of performance, this is only done when the reference of the value changes meaning a
                setter is used instead of ngDoCheck/IterableDiffers which can reduce performance. So when you manipulate the value such as removing or adding an item, instead of using array methods such as push, splice
                create a new array reference using a spread operator or similar.
            </p>

            <h3>Sections</h3>
            <p>Table offers various templates to display additional information about the data such as a caption, header, summary and footer.</p>
<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files" [columns]="cols"&gt;
    &lt;ng-template pTemplate="caption"&gt;
        FileSystem
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of columns"&gt;
                &123;&123;col.header&125;&125;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns"&gt;
        &lt;tr&gt;
            &lt;td *ngFor="let col of columns; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &123;&123;rowData[col.field]&125;&125;
            &lt;/td&gt;
        &lt;/tr&gt;            
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="footer" let-columns&gt;
        &lt;tr&gt;
            &lt;td *ngFor="let col of columns"&gt;
                &123;&123;col.header&125;&125;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="summary"&gt;
        There are &123;&123;files?.length&125;&125; Root Folders
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>

        <p>See the <a [routerLink]="['/treetable/sections']">live example.</a></p>

            <h3>Column Grouping</h3>
            <p>Columns can easily be grouped using templating. Let's start with sample data of sales of brands per year.</p>

<div style="height:400px;overflow: auto">
<pre>
<code class="language-typescript" pCode ngNonBindable>
export class TreeTableColGroupDemo implements OnInit &#123;

    sales: TreeNode[];

    cols: any[];

    ngOnInit() &#123;
        this.sales = [
            &#123;
                data: &#123; brand: 'Bliss', lastYearSale: '51%', thisYearSale: '40%', lastYearProfit: '$54,406.00', thisYearProfit: '$43,342'&#125;,
                expanded: true,
                children: [
                    &#123;
                        data: &#123; brand: 'Product A', lastYearSale: '25%', thisYearSale: '20%', lastYearProfit: '$34,406.00', thisYearProfit: '$23,342' &#125;,
                        expanded: true,
                        children: [
                            &#123;
                                data: &#123; brand: 'Product A-1', lastYearSale: '20%', thisYearSale: '10%', lastYearProfit: '$24,406.00', thisYearProfit: '$13,342' &#125;, 
                            &#125;,
                            &#123;
                                data: &#123; brand: 'Product A-2', lastYearSale: '5%', thisYearSale: '10%', lastYearProfit: '$10,000.00', thisYearProfit: '$10,000' &#125;, 
                            &#125;
                        ]
                    &#125;,
                    &#123;
                        data: &#123; brand: 'Product B', lastYearSale: '26%', thisYearSale: '20%', lastYearProfit: '$24,000.00', thisYearProfit: '$23,000' &#125;, 
                    &#125;
                ]
            &#125;,
            &#123;
                data: &#123; brand: 'Fate', lastYearSale: '83%', thisYearSale: '96%', lastYearProfit: '$423,132', thisYearProfit: '$312,122' &#125;,
                children: [
                    &#123;
                        data: &#123; brand: 'Product X', lastYearSale: '50%', thisYearSale: '40%', lastYearProfit: '$223,132', thisYearProfit: '$156,061' &#125;, 
                    &#125;,
                    &#123;
                        data: &#123; brand: 'Product Y', lastYearSale: '33%', thisYearSale: '56%', lastYearProfit: '$200,000', thisYearProfit: '$156,061' &#125;, 
                    &#125;
                ]
            &#125;,
            &#123;
                data: &#123; brand: 'Ruby', lastYearSale: '38%', thisYearSale: '5%', lastYearProfit: '$12,321', thisYearProfit: '$8,500' &#125;,
                children: [
                    &#123;
                        data: &#123; brand: 'Product M', lastYearSale: '18%', thisYearSale: '2%', lastYearProfit: '$10,300', thisYearProfit: '$5,500' &#125;, 
                    &#125;,
                    &#123;
                        data: &#123; brand: 'Product N', lastYearSale: '20%', thisYearSale: '3%', lastYearProfit: '$2,021', thisYearProfit: '$3,000' &#125;, 
                    &#125;
                ]
            &#125;,
            &#123;
                data: &#123; brand: 'Sky', lastYearSale: '49%', thisYearSale: '22%', lastYearProfit: '$745,232', thisYearProfit: '$650,323' &#125;,
                children: [
                    &#123;
                        data: &#123; brand: 'Product P', lastYearSale: '20%', thisYearSale: '16%', lastYearProfit: '$345,232', thisYearProfit: '$350,000' &#125;, 
                    &#125;,
                    &#123;
                        data: &#123; brand: 'Product R', lastYearSale: '29%', thisYearSale: '6%', lastYearProfit: '$400,009', thisYearProfit: '$300,323' &#125;, 
                    &#125;
                ]
            &#125;,
            &#123;
                data: &#123; brand: 'Comfort', lastYearSale: '17%', thisYearSale: '79%', lastYearProfit: '$643,242', thisYearProfit: '500,332' &#125;,
                children: [
                    &#123;
                        data: &#123; brand: 'Product S', lastYearSale: '10%', thisYearSale: '40%', lastYearProfit: '$243,242', thisYearProfit: '$100,000' &#125;, 
                    &#125;,
                    &#123;
                        data: &#123; brand: 'Product T', lastYearSale: '7%', thisYearSale: '39%', lastYearProfit: '$400,00', thisYearProfit: '$400,332' &#125;, 
                    &#125;
                ]
            &#125;,
            &#123;
                data: &#123; brand: 'Merit', lastYearSale: '52%', thisYearSale: ' 65%', lastYearProfit: '$421,132', thisYearProfit: '$150,005' &#125;,
                children: [
                    &#123;
                        data: &#123; brand: 'Product L', lastYearSale: '20%', thisYearSale: '40%', lastYearProfit: '$121,132', thisYearProfit: '$100,000' &#125;, 
                    &#125;,
                    &#123;
                        data: &#123; brand: 'Product G', lastYearSale: '32%', thisYearSale: '25%', lastYearProfit: '$300,000', thisYearProfit: '$50,005' &#125;, 
                    &#125;
                ]
            &#125;,
            &#123;
                data: &#123; brand: 'Violet', lastYearSale: '82%', thisYearSale: '12%', lastYearProfit: '$131,211', thisYearProfit: '$100,214' &#125;,
                children: [
                    &#123;
                        data: &#123; brand: 'Product SH1', lastYearSale: '30%', thisYearSale: '6%', lastYearProfit: '$101,211', thisYearProfit: '$30,214' &#125;, 
                    &#125;,
                    &#123;
                        data: &#123; brand: 'Product SH2', lastYearSale: '52%', thisYearSale: '6%', lastYearProfit: '$30,000', thisYearProfit: '$70,000' &#125;, 
                    &#125;
                ]
            &#125;,
            &#123;
                data: &#123; brand: 'Dulce', lastYearSale: '44%', thisYearSale: '45%', lastYearProfit: '$66,442', thisYearProfit: '$53,322' &#125;,
                children: [
                    &#123;
                        data: &#123; brand: 'Product PN1', lastYearSale: '22%', thisYearSale: '25%', lastYearProfit: '$33,221', thisYearProfit: '$20,000' &#125;, 
                    &#125;,
                    &#123;
                        data: &#123; brand: 'Product PN2', lastYearSale: '22%', thisYearSale: '25%', lastYearProfit: '$33,221', thisYearProfit: '$33,322' &#125;, 
                    &#125;
                ]
            &#125;,
            &#123;
                data: &#123; brand: 'Solace', lastYearSale: '90%', thisYearSale: '56%', lastYearProfit: '$765,442', thisYearProfit: '$296,232' &#125;,
                children: [
                    &#123;
                        data: &#123; brand: 'Product HT1', lastYearSale: '60%', thisYearSale: '36%', lastYearProfit: '$465,000', thisYearProfit: '$150,653' &#125;, 
                    &#125;,
                    &#123;
                        data: &#123; brand: 'Product HT2', lastYearSale: '30%', thisYearSale: '20%', lastYearProfit: '$300,442', thisYearProfit: '$145,579' &#125;, 
                    &#125;
                ]
            &#125;,
            &#123;
                data:  &#123; brand: 'Essence', lastYearSale: '75%', thisYearSale: '54%', lastYearProfit: '$21,212', thisYearProfit: '$12,533' &#125;,
                children: [
                    &#123;
                        data: &#123; brand: 'Product TS1', lastYearSale: '50%', thisYearSale: '34%', lastYearProfit: '$11,000', thisYearProfit: '$8,562' &#125;, 
                    &#125;,
                    &#123;
                        data: &#123; brand: 'Product TS2', lastYearSale: '25%', thisYearSale: '20%', lastYearProfit: '$11,212', thisYearProfit: '$3,971' &#125;, 
                    &#125;
                ]
            &#125;
        ];
    &#125;
&#125;
</code>
</pre>
</div>

<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="sales"&gt;
    &lt;ng-template pTemplate="header"&gt;
        &lt;tr&gt;
            &lt;th rowspan="3"&gt;Brand&lt;/th&gt;
            &lt;th colspan="4"&gt;Sale Rate&lt;/th&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;th colspan="2"&gt;Sales&lt;/th&gt;
            &lt;th colspan="2"&gt;Profits&lt;/th&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;th&gt;Last Year&lt;/th&gt;
            &lt;th&gt;This Year&lt;/th&gt;
            &lt;th&gt;Last Year&lt;/th&gt;
            &lt;th&gt;This Year&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData"&gt;
        &lt;tr&gt;
            &lt;td&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData.brand&#125;&#125;
            &lt;/td&gt;
            &lt;td&gt;&#123;&#123;rowData.lastYearSale&#125;&#125;&lt;/td&gt;
            &lt;td&gt;&#123;&#123;rowData.thisYearSale&#125;&#125;&lt;/td&gt;
            &lt;td&gt;&#123;&#123;rowData.lastYearProfit&#125;&#125;&lt;/td&gt;
            &lt;td&gt;&#123;&#123;rowData.thisYearProfit&#125;&#125;&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="footer"&gt;
        &lt;tr&gt;
            &lt;td colspan="3"&gt;Totals&lt;/td&gt;
            &lt;td&gt;$3,283,772&lt;/td&gt;
            &lt;td&gt;$2,126,925&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>
            <p>See the <a [routerLink]="['/treetable/colgroup']">live example.</a></p>

            <h3>Paginator</h3>
            <p>Pagination is enabled by setting paginator property to true, rows property defines the number of rows per page and pageLinks specify the the number
                of page links to display. See <a [routerLink]="['/paginator']">paginator</a> component for more information.</p>
<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files" [columns]="cols" [paginator]="true" [rows]="10"&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of columns"&gt;
                &#123;&#123;col.header&#125;&#125;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns"&gt;
        &lt;tr&gt;
            &lt;td *ngFor="let col of columns; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData[col.field]&#125;&#125;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>

            <p>Paginator accepts custom content for the left and the right side via named templates.</p>
<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files" [columns]="cols" [paginator]="true" [rows]="10"&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of columns"&gt;
                &#123;&#123;col.header&#125;&#125;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns"&gt;
        &lt;tr&gt;
            &lt;td *ngFor="let col of columns; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData[col.field]&#125;&#125;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="paginatorleft" let-state&gt;
        &#123;&#123;state.first&#125;&#125;
        &lt;button type="button" pButton icon="fa-refresh"&gt;&lt;/button&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="paginatorright"&gt;
        &lt;button type="button" pButton icon="fa-cloud-upload"&gt;&lt;/button&gt;
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>

            <p>Paginator templates gets the paginator state as an implicit variable that provides the following properties</p>
            <ul>
                <li>first</li>
                <li>rows</li>
                <li>page</li>
                <li>totalRecords</li>
            </ul>

            <p>See the <a [routerLink]="['/treetable/page']">live example.</a></p>

            <h3>Sorting</h3>
            <p>A column can be made sortable by adding the <strong>ttSortableColumn</strong> directive whose value is the field to sort against and a sort indicator via <strong>p-treeTableSortIcon</strong> component. For dynamic columns,
                setting <strong>ttSortableColumnDisabled</strong> property as true disables sorting for that particular column.
            </p>
<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files" [columns]="cols"&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of columns" [ttSortableColumn]="col.field"&gt;
                &#123;&#123;col.header&#125;&#125;
                &lt;p-treeTableSortIcon [field]="col.field"&gt;&lt;/p-treeTableSortIcon&gt;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns"&gt;
        &lt;tr&gt;
            &lt;td *ngFor="let col of columns; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData[col.field]&#125;&#125;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>
            <p>Default sorting is executed on a single column, in order to enable multiple field sorting, set <strong>sortMode</strong> property to "multiple" and use metakey
            when clicking on another column.</p>
<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="cars" sortMode="multiple"&gt;
</code>
</pre>

            <p>In case you'd like to display the table as sorted by default initially on load, use the <strong>sortField</strong>-<strong>sortOrder</strong> properties in single mode.</p>
<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files" [columns]="cols" sortField="year"&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of columns" [ttSortableColumn]="col.field"&gt;
                &#123;&#123;col.header&#125;&#125;
                &lt;p-treeTableSortIcon [field]="col.field"&gt;&lt;/p-treeTableSortIcon&gt;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns"&gt;
        &lt;tr&gt;
            &lt;td *ngFor="let col of columns; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData[col.field]&#125;&#125;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>
            <p>In multiple mode, use the <strong>multiSortMeta</strong> property and bind an array of SortMeta objects.</p>
<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files" [columns]="cols" sortMode="multiple" [multiSortMeta]="multiSortMeta"&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of columns" [ttSortableColumn]="col.field"&gt;
                &#123;&#123;col.header&#125;&#125;
                &lt;p-treeTableSortIcon [field]="col.field"&gt;&lt;/p-treeTableSortIcon&gt;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns"&gt;
        &lt;tr&gt;
            &lt;td *ngFor="let col of columns; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData[col.field]&#125;&#125;
            &lt;/td&gt;
        &lt;/tr&gt;            
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>

<pre>
<code class="language-typescript" pCode ngNonBindable>
this.multiSortMeta = [];
this.multiSortMeta.push(&#123;field: 'year', order: 1&#125;);
this.multiSortMeta.push(&#123;field: 'brand', order: -1&#125;);
</code>
</pre>

            <p>Instead of using the built-in sorting algorithm a custom sort can be attached by enabling <strong>customSort</strong> property and defining a <strong>sortFunction</strong> implementation. This function gets a SortEvent instance
                that provides the data to sort, sortField, sortOrder and multiSortMeta.
            </p>
<pre>
<code class="language-typescript" pCode ngNonBindable>
export class TreeTableSortDemo implements OnInit &#123;

    files: TreeNode[];

    cols: any[];

    constructor(private nodeService: NodeService) &#123; &#125;

    ngOnInit() &#123;
        this.nodeService.getFilesystem().then(files => this.files = files);

        this.cols = [
            &#123; field: 'name', header: 'Name' &#125;,
            &#123; field: 'size', header: 'Size' &#125;,
            &#123; field: 'type', header: 'Type' &#125;
        ];
    &#125;

    customSort(event: SortEvent) &#123;
        //event.data = Data to sort
        //event.mode = 'single' or 'multiple' sort mode
        //event.field = Sort field in single sort
        //event.order = Sort order in single sort
        //event.multiSortMeta = SortMeta array in multiple sort

        event.data.sort((data1, data2) => &#123;
            let value1 = data1[event.field];
            let value2 = data2[event.field];
            let result = null;

            if (value1 == null && value2 != null)
                result = -1;
            else if (value1 != null && value2 == null)
                result = 1;
            else if (value1 == null && value2 == null)
                result = 0;
            else if (typeof value1 === 'string' && typeof value2 === 'string')
                result = value1.localeCompare(value2);
            else
                result = (value1 < value2) ? -1 : (value1 > value2) ? 1 : 0;

            return (event.order * result);
        &#125;);
    &#125;
&#125;
</code>
</pre>

<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files" [columns]="cols" (sortFunction)="customSort($event)" [customSort]="true"&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of columns" [ttSortableColumn]="col.field"&gt;
                &#123;&#123;col.header&#125;&#125;
                &lt;p-treeTableSortIcon [field]="col.field"&gt;&lt;/p-treeTableSortIcon&gt;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns"&gt;
        &lt;tr&gt;
            &lt;td *ngFor="let col of columns; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData[col.field]&#125;&#125;
            &lt;/td&gt;
        &lt;/tr&gt;            
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>

            <p>For screen reader support of sortable headers, use ariaLabelDesc and ariaLabelAsc properties
                on p-sortIcon directive.</p>

            <p>See the <a [routerLink]="['/treetable/sort']">live example.</a></p>

            <h3>Selection</h3>
            <p>TreeTable provides built-in single, multiple and checkbox selection features where selected rows are bound to the selection property and onRowSelect-onRowUnselect events
            are provided as optional callbacks. In order to enable this feature, define a <strong>selectionMode</strong>, bind a selection reference and add <strong>ttSelectableRow</strong> directive
            whose value is the rowNode to the rows that can be selected. Additionally if you prefer double click use <strong>ttSelectableRowDblClick</strong> directive instead and to disable selection events on a particular row use <strong>ttSelectableRowDisabled<strong> 
            property.</strong></p>
            
            <p>By default each row click adds or removes the row from the selection, if you prefer a classic
            metaKey based selection approach enable <strong>metaKeySelection</strong> true so that multiple selection or unselection of a row requires metaKey to be pressed. Note that, on touch enabled
            devices, metaKey based selection is turned off automatically as there is no metaKey in devices such as mobile phones.</p>

            <p>Alternative to the row click, checkbox elements can be used to implement row selection as well.</p>

            <p>When resolving if a row is selected, by default TreeTable compares selection array with the datasource which may cause a performance issue with huge datasets that do not use pagination.
                If available the fastest way is to use dataKey property that identifies a unique row so that Table can avoid comparing arrays as internally a map instance is used instead of looping arrays, on the other hand
                if dataKey cannot be provided consider using compareSelectionBy property as "equals" which uses reference comparison instead of the default "deepEquals" comparison. Latter is slower since it checks all properties.
            </p>

            <p>In single mode, selection binding is an object reference.</p>
<pre>
<code class="language-typescript" pCode ngNonBindable>
export class TreeTableSelectionDemo &#123;

    files: TreeNode[];

    selectedNode: TreeNode;

    constructor(private carService: CarService) &#123; &#125;

    ngOnInit() &#123;
        this.nodeService.getFilesystem().then(files => this.files = files);
    &#125;
&#125;
</code>
</pre>

<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files" [columns]="cols" selectionMode="single" [(selection)]="selectedNode" dataKey="name"&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of columns"&gt;
                &#123;&#123;col.header&#125;&#125;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns"&gt;
        &lt;tr [ttSelectableRow]="rowNode"&gt;
            &lt;td *ngFor="let col of columns; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData[col.field]&#125;&#125;
            &lt;/td&gt;
        &lt;/tr&gt;            
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>

        <p>In multiple mode, selection binding should be an array.</p>
<pre>
<code class="language-typescript" pCode ngNonBindable>
export class TreeTableSelectionDemo &#123;

    files: TreeNode[];

    selectedNodes: TreeNode[];

    constructor(private carService: CarService) &#123; &#125;

    ngOnInit() &#123;
        this.nodeService.getFilesystem().then(files => this.files = files);
    &#125;
&#125;
</code>
</pre>

<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files" [columns]="cols" selectionMode="multiple" [(selection)]="selectedNodes" dataKey="name"&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of columns"&gt;
                &#123;&#123;col.header&#125;&#125;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns"&gt;
        &lt;tr [ttSelectableRow]="rowNode"&gt;
            &lt;td *ngFor="let col of columns; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData[col.field]&#125;&#125;
            &lt;/td&gt;
        &lt;/tr&gt;            
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>

                <p>Checkbox selection utilizes p-treeTableCheckbox component whose value should be the rowNode. Optionally p-treeTableHeaderCheckbox is available to select or unselect all the nodes.</p>
<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;p-treeTable [value]="files" [columns]="cols" selectionMode="checkbox" [(selection)]="selectedNodes"&gt;
    &lt;ng-template pTemplate="caption"&gt;
        &lt;div style="text-align:left"&gt;
            &lt;p-treeTableHeaderCheckbox&gt;&lt;/p-treeTableHeaderCheckbox&gt;
            &lt;span style="margin-left: .25em; vertical-align: middle"&gt;Toggle All&lt;/span&gt;
        &lt;/div&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of columns"&gt;
                &#123;&#123;col.header&#125;&#125;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns"&gt;
        &lt;tr&gt;
            &lt;td *ngFor="let col of columns; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &lt;p-treeTableCheckbox [value]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableCheckbox&gt;
                &#123;&#123;rowData[col.field]&#125;&#125;
            &lt;/td&gt;
        &lt;/tr&gt;            
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>

            <p>See the <a [routerLink]="['/treetable/selection']">live example.</a></p>

            <h3>Dependencies</h3>
            <p>None.</p>
        </p-tabPanel>

        <p-tabPanel header="Source">
            <a href="https://github.com/primefaces/primeng/tree/master/src/app/showcase/components/treetable" class="btn-viewsource" target="_blank">
                <i class="fa fa-github"></i>
                <span>View on GitHub</span>
            </a>
<pre>
<code class="language-markup" pCode ngNonBindable>
&lt;h3 class="first"&gt;Basic&lt;/h3&gt;  
&lt;p-treeTable [value]="files1"&gt;
    &lt;ng-template pTemplate="header"&gt;
        &lt;tr&gt;
            &lt;th&gt;Name&lt;/th&gt;
            &lt;th&gt;Size&lt;/th&gt;
            &lt;th&gt;Type&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData"&gt;
        &lt;tr&gt;
            &lt;td&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData.name&#125;&#125;
            &lt;/td&gt;
            &lt;td&gt;&#123;&#123;rowData.size&#125;&#125;&lt;/td&gt;
            &lt;td&gt;&#123;&#123;rowData.type&#125;&#125;&lt;/td&gt;
        &lt;/tr&gt;            
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;

&lt;h3&gt;Dynamic Columns&lt;/h3&gt;
&lt;p-treeTable [value]="files2" [columns]="cols"&gt;
    &lt;ng-template pTemplate="header" let-columns&gt;
        &lt;tr&gt;
            &lt;th *ngFor="let col of columns"&gt;
                &#123;&#123;col.header&#125;&#125;
            &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/ng-template&gt;
    &lt;ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns"&gt;
        &lt;tr&gt;
            &lt;td *ngFor="let col of columns; let i = index"&gt;
                &lt;p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"&gt;&lt;/p-treeTableToggler&gt;
                &#123;&#123;rowData[col.field]&#125;&#125;
            &lt;/td&gt;
        &lt;/tr&gt;            
    &lt;/ng-template&gt;
&lt;/p-treeTable&gt;
</code>
</pre>

<pre>
<code class="language-typescript" pCode ngNonBindable>
export class TreeTableDemo implements OnInit &#123;

    files1: TreeNode[];

    files2: TreeNode[];

    cols: any[];

    constructor(private nodeService: NodeService) &#123; &#125;

    ngOnInit() &#123;
        this.nodeService.getFilesystem().then(files => this.files1 = files);
        this.nodeService.getFilesystem().then(files => this.files2 = files);

        this.cols = [
            &#123; field: 'name', header: 'Name' &#125;,
            &#123; field: 'size', header: 'Size' &#125;,
            &#123; field: 'type', header: 'Type' &#125;
        ];
    &#125;
&#125;
</code>
</pre>
        </p-tabPanel>
    </p-tabView>
</div>
